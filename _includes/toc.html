<div class="toc">
  <h4>Contenido</h4>
  <ul id="markdown-toc"></ul>
</div>

<script>
  document.addEventListener('DOMContentLoaded', function () {
    const headings = document.querySelectorAll('.post-content h2, .post-content h3');
    const toc = document.getElementById('markdown-toc');

    headings.forEach(function (heading, index) {
      const id = 'heading-' + index;
      heading.id = id;

      const li = document.createElement('li');
      const a = document.createElement('a');
      a.textContent = heading.textContent;
      a.href = '#' + id;

      if (heading.tagName === 'H3') {
        li.classList.add('toc-h3');
      }

      li.appendChild(a);
      toc.appendChild(li);
    });
  });
</script>