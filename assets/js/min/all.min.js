var backToTopButton=document.getElementById("back-to-top");function topFunction(){document.body.scrollTop=0,document.documentElement.scrollTop=0}backToTopButton&&(window.onscroll=function(){300<document.body.scrollTop||300<document.documentElement.scrollTop?backToTopButton.style.display="block":backToTopButton.style.display="none"}),document.addEventListener("DOMContentLoaded",function(){let t=document.querySelectorAll(".category-nav a"),a=document.querySelectorAll(".category-section");function o(){let o="",n=!1;var e;window.location.hash&&(o=window.location.hash.substring(1),n=!0),n&&document.getElementById(o)||a.forEach(e=>{var t=e.getBoundingClientRect();t.top<=150&&0<=t.bottom&&(n||(o=e.getAttribute("id"),n=!0))}),!o&&0<a.length&&(o=a[0].getAttribute("id")),t.forEach(e=>{e.classList.remove("active"),e.getAttribute("href")==="#"+o&&(e.classList.add("active"),e.parentElement)&&e.parentElement.parentElement&&(e.parentElement.parentElement.scrollTop=e.offsetTop-100)}),a.forEach(e=>{e.classList.remove("active")}),o&&(e=document.getElementById(o))&&e.classList.add("active")}0!==t.length&&0!==a.length&&(t.forEach(e=>{e.addEventListener("click",function(t){var e=this.getAttribute("href");if(e&&e.startsWith("#")){t.preventDefault();t=e;if("#"!==t){let e=document.querySelector(t);e&&(history.pushState(null,null,t),e.classList.add("highlight-flash"),window.scrollTo({top:e.offsetTop-80,behavior:"smooth"}),o(),setTimeout(()=>{e.classList.remove("highlight-flash")},1500))}}})}),document.querySelectorAll("a.post-link[data-post-url]").forEach(e=>{e.addEventListener("click",function(e){console.log("Navegando a post: "+this.href)})}),window.addEventListener("scroll",o),window.addEventListener("hashchange",o),o())}),document.addEventListener("DOMContentLoaded",function(){document.querySelectorAll(".highlighter-rouge").forEach(function(e,t){let a=e.querySelector("code")||e.querySelector("pre");if(a&&(o=(o=a.textContent).trim()).includes(" ")&&!(o.length<10)){var o=document.createElement("div");o.className="highlight-wrapper";let n=document.createElement("button");n.className="copy-code-button",n.textContent="Copiar",n.setAttribute("aria-label","Copiar código"),n.setAttribute("data-id","code-"+t),e.parentNode.insertBefore(o,e),o.appendChild(n),o.appendChild(e),n.addEventListener("click",function(){var e=a.textContent,t=document.createElement("textarea");t.value=e,t.style.position="fixed",document.body.appendChild(t),t.select();try{var o=document.execCommand("copy");n.textContent=o?"✓ Copiado!":"Error al copiar",n.classList.add("copied"),setTimeout(()=>{n.textContent="Copiar",n.classList.remove("copied")},2e3)}catch(e){console.error("No se pudo copiar el texto: ",e),n.textContent="Error al copiar"}document.body.removeChild(t)})}})}),document.addEventListener("DOMContentLoaded",function(){document.querySelectorAll('a[href^="#"]').forEach(e=>{e.addEventListener("click",function(t){t.preventDefault();t=this.getAttribute("href");if("#"!==t){let e=document.querySelector(t);e&&(e.classList.add("highlight-target"),window.scrollTo({top:e.offsetTop-70,behavior:"smooth"}),setTimeout(()=>{e.classList.remove("highlight-target")},2e3))}})})}),document.addEventListener("DOMContentLoaded",function(){var e=document.getElementById("theme-switch");let t=document.body;var o=localStorage.getItem("theme");o?(t.classList.add(o),"dark-theme"===o&&(e.checked=!0)):window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches&&(t.classList.add("dark-theme"),e.checked=!0,localStorage.setItem("theme","dark-theme")),e.addEventListener("change",function(){this.checked?(t.classList.remove("light-theme"),t.classList.add("dark-theme"),localStorage.setItem("theme","dark-theme")):(t.classList.remove("dark-theme"),t.classList.add("light-theme"),localStorage.setItem("theme","light-theme"))})});